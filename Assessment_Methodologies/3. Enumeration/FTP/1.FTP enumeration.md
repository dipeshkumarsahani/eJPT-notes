
# 🛠️ FTP Enumeration Guide for Penetration Testing (eJPT/OSCP)

## 🎯 Objective
Identify FTP login methods and enumerate accessible data using brute-force, anonymous login, and basic enumeration tools.

---

## 🔍 1. Identify FTP Service

Use **Nmap** to detect FTP service and version:

```bash
nmap -sV -p 21 <IP>
````

If FTP is open and version is shown (e.g., vsftpd, ProFTPD, etc.), proceed with enumeration.

---

## 👤 2. Anonymous FTP Login Attempt

Try connecting without credentials:

```bash
ftp <IP>
# When prompted:
# Name: anonymous
# Password: anonymous or blank
```

Or test using `Nmap`:

```bash
nmap -p 21 --script ftp-anon <IP>
```

If anonymous login is allowed, you can browse and download files:

```bash
ls
get <file>
```

---

## 🧠 3. FTP Brute Force Login using Hydra

If anonymous login fails and credentials are unknown, use Hydra to brute-force:

```bash
hydra -L /usr/share/metasploit-framework/data/wordlists/common-usernames.txt \
-P /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt \
ftp://<IP>
```

**Alternative:**

```bash
hydra -l admin -P /usr/share/wordlists/rockyou.txt <IP> ftp
```

✅ **Flags Explanation:**

* `-L`: List of usernames
* `-P`: List of passwords
* `ftp://<IP>` or `<IP> ftp`: Target protocol

---

## 🧰 4. Metasploit-Based FTP Login Bruteforce

```bash
msfconsole
use auxiliary/scanner/ftp/ftp_login
set RHOSTS <IP>
set USERNAME admin
set PASS_FILE /usr/share/wordlists/rockyou.txt
run
```

---

## 📂 5. Enumerate and Access FTP Shares

Once credentials are found, connect:

```bash
ftp <IP>
# Provide username and password when prompted
```

Or use `smbmap` (useful if credentials are reused on SMB):

```bash
smbmap -H <IP> -u <username> -p <password>
```

---

## 🔐 6. File Upload & Backdoor Check

If you have write permission:

```bash
put shell.php
```

Upload test files or webshells depending on the target type (especially for webservers using FTP for file management).

---

## 🧪 Bonus Enumeration with `ftpmap` (if installed)

```bash
ftpmap <IP>
```

FTPMap is like Nikto for FTP—used for vulnerability detection.

---

## 🚩 Summary of Tools

| Tool       | Purpose                             |
| ---------- | ----------------------------------- |
| nmap       | Port & service discovery            |
| ftp        | Manual login                        |
| hydra      | Brute force FTP credentials         |
| metasploit | FTP brute-force & exploits          |
| smbmap     | Check file access (if reused creds) |
| ftpmap     | Vulnerability scanner for FTP       |

---

## 📝 Notes

* Always start with **nmap** to confirm service presence.
* Try **anonymous login** before brute-forcing.
* Be patient with **Hydra**; use appropriate wordlists.
* Check for **write permissions** for potential file upload backdoors.
* FTP credentials are often reused in SMB, SSH, etc.—**reuse creds wisely**.

---

## 📚 Useful Wordlists

| Purpose   | Path                                                                  |
| --------- | --------------------------------------------------------------------- |
| Usernames | `/usr/share/metasploit-framework/data/wordlists/common-usernames.txt` |
| Passwords | `/usr/share/metasploit-framework/data/wordlists/unix_passwords.txt`   |
| RockYou   | `/usr/share/wordlists/rockyou.txt` (commonly used)                    |

---

> ✅ Use these commands and logic in eJPT or real-world penetration testing environments where FTP service is exposed.
