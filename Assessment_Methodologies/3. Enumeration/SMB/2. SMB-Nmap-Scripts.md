# üìÅ Enumeration ‚Äì SMB with Nmap Scripts

---

## üéØ Purpose

Use Nmap‚Äôs powerful SMB-specific NSE (Nmap Scripting Engine) scripts to enumerate SMB services running on a target.  
This helps gather valuable information like:
- SMB protocol version
- Security mode
- Shared resources
- Logged-in users
- Groups, domains, and services

---

## üìå Preliminary Checks

Before running scripts, verify the host is up:

```bash
ping IP
````

Basic port scan to confirm SMB port:

```bash
nmap IP
```

---

## üõ†Ô∏è Step-by-Step SMB Script Scanning

Replace `IP` with your target system and provide valid SMB credentials if needed.

---

### 1. Check SMB Protocol Version

```bash
nmap -p445 --script smb-protocol IP
```

---

### 2. Check SMB Security Mode

```bash
nmap -p445 --script smb-security-mode IP
```

---

### 3. Check Active SMB Sessions

```bash
nmap -p445 --script enum-session IP
```

---

### 4. Enumerate SMB Sessions (Authenticated)

```bash
nmap -p445 --script smb-enum-session --script-args smbusername=administrator,smbpassword=password IP
```

---

### 5. List SMB Shares (Anonymous)

```bash
nmap -p445 --script smb-enum-shares IP
```

---

### 6. List SMB Shares (Authenticated)

```bash
nmap -p445 --script smb-enum-share --script-args smbusername=administrator,smbpassword=password IP
```

---

### 7. Enumerate SMB Users (Authenticated)

```bash
nmap -p445 --script smb-enum-users --script-args smbusername=administrator,smbpassword=password IP
```

---

### 8. Get SMB Status Information (Authenticated)

```bash
nmap -p445 --script smb-enum-status --script-args smbusername=administrator,smbpassword=password IP
```

---

### 9. Enumerate Domain Information (Authenticated)

```bash
nmap -p445 --script smb-enum-domain --script-args smbusername=administrator,smbpassword=password IP
```

---

### 10. Enumerate SMB Groups (Authenticated)

```bash
nmap -p445 --script smb-enum-groups --script-args smbusername=administrator,smbpassword=password IP
```

---

### 11. Enumerate Services via SMB (Authenticated)

```bash
nmap -p445 --script smb-enum-services --script-args smbusername=administrator,smbpassword=password IP
```

---

### 12. List Shares and Their Contents (Authenticated)

```bash
nmap -p445 --script smb-enum-shares,smb-ls --script-args smbusername=administrator,smbpassword=password IP
```

---

## ‚ö†Ô∏è Tips

* Port **445** is commonly used for SMB over TCP
* Port **139** is also used for older SMB versions over NetBIOS
* If anonymous access is restricted, always try with valid credentials
* These scripts are powerful for **internal network enumeration**

---
